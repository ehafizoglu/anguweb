{"version":3,"file":"ng-icons-core.mjs","sources":["../../../../packages/core/src/lib/providers/glyph-config.provider.ts","../../../../packages/core/src/lib/providers/glyph.provider.ts","../../../../packages/core/src/lib/utils/coercion.ts","../../../../packages/core/src/lib/components/glyph/glyph.component.ts","../../../../packages/core/src/lib/providers/features/features.ts","../../../../packages/core/src/lib/providers/features/csp.ts","../../../../packages/core/src/lib/providers/features/logger.ts","../../../../packages/core/src/lib/providers/icon-config.provider.ts","../../../../packages/core/src/lib/providers/icon-loader.provider.ts","../../../../packages/core/src/lib/providers/icon.provider.ts","../../../../packages/core/src/lib/utils/async.ts","../../../../packages/core/src/lib/utils/format.ts","../../../../packages/core/src/lib/components/icon/icon.component.ts","../../../../packages/core/src/lib/icon.module.ts","../../../../packages/core/src/lib/components/icon-stack/icon-stack.component.ts","../../../../packages/core/src/ng-icons-core.ts"],"sourcesContent":["import { InjectionToken, Provider, inject } from '@angular/core';\n\nexport interface NgGlyphConfig {\n  /** Define the default size of glyph */\n  size: string | number;\n  /** Define the optical size of the glyph */\n  opticalSize?: number;\n  /** Define the default color of glyph */\n  color?: string;\n  /** Define the default weight of glyph */\n  weight?: number;\n  /** Define the default grade of glyph */\n  grade?: number;\n  /** Define the default fill of glyph */\n  fill?: boolean;\n}\n\nexport const NgGlyphConfigToken = new InjectionToken<Required<NgGlyphConfig>>(\n  'Ng Glyph Config',\n);\n\nconst defaultConfig: NgGlyphConfig = {\n  size: '1em',\n  opticalSize: 20,\n  weight: 400,\n  grade: 0,\n  fill: false,\n};\n\n/**\n * Provide the configuration for the glyph\n * @param config The configuration to use\n */\nexport function provideNgGlyphsConfig(\n  config: Partial<NgGlyphConfig>,\n): Provider {\n  return {\n    provide: NgGlyphConfigToken,\n    useValue: { ...defaultConfig, ...config },\n  };\n}\n\n/**\n * Inject the configuration for the glyphs\n * @returns The configuration to use\n * @internal\n */\nexport function injectNgGlyphsConfig(): Required<NgGlyphConfig> {\n  return (inject(NgGlyphConfigToken, { optional: true }) ??\n    defaultConfig) as Required<NgGlyphConfig>;\n}\n","import {\n  EnvironmentProviders,\n  InjectionToken,\n  inject,\n  makeEnvironmentProviders,\n} from '@angular/core';\n\nexport const NgGlyphsToken = new InjectionToken<NgGlyphs>('NgGlyphsToken');\n\nexport function provideNgGlyphs(\n  ...glyphsets: NgGlyphset[]\n): EnvironmentProviders {\n  // if there are no glyphsets, throw an error\n  if (!glyphsets.length) {\n    throw new Error('Please provide at least one glyphset.');\n  }\n\n  // the default glyphset is the first one\n  const defaultGlyphset = glyphsets[0].name;\n\n  return makeEnvironmentProviders([\n    { provide: NgGlyphsToken, useValue: { defaultGlyphset, glyphsets } },\n  ]);\n}\n\nexport function injectNgGlyphs(): NgGlyphs {\n  const glyphs = inject(NgGlyphsToken, { optional: true });\n\n  if (!glyphs) {\n    throw new Error(\n      'Please provide the glyphs using the provideNgGlyphs() function.',\n    );\n  }\n\n  return glyphs;\n}\n\nexport interface NgGlyphset {\n  name: string;\n  baseClass: string;\n}\n\nexport interface NgGlyphs {\n  defaultGlyphset: string;\n  glyphsets: NgGlyphset[];\n}\n","export function coerceCssPixelValue(value: string): string {\n  return value == null ? '' : /^\\d+$/.test(value) ? `${value}px` : value;\n}\n","import {\n  ChangeDetectionStrategy,\n  Component,\n  booleanAttribute,\n  computed,\n  input,\n  numberAttribute,\n} from '@angular/core';\nimport { injectNgGlyphsConfig } from '../../providers/glyph-config.provider';\nimport { injectNgGlyphs } from '../../providers/glyph.provider';\nimport { coerceCssPixelValue } from '../../utils/coercion';\n\n@Component({\n  selector: 'ng-glyph',\n  standalone: true,\n  template: ``,\n  styleUrl: './glyph.component.scss',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  host: {\n    '[class]': 'glyphsetClass()',\n    '[textContent]': 'name()',\n    '[style.--ng-glyph__size]': 'size()',\n    '[style.color]': 'color()',\n    '[style.font-variation-settings]': 'fontVariationSettings()',\n  },\n})\nexport class NgGlyph {\n  /**\n   * Access the available glyphsets\n   */\n  private readonly glyphsets = injectNgGlyphs();\n\n  /**\n   * Access the default configuration\n   */\n  private readonly config = injectNgGlyphsConfig();\n\n  /**\n   * Define the name of the glyph to display\n   */\n  readonly name = input.required<string>();\n\n  /**\n   * Define the glyphset to use\n   */\n  readonly glyphset = input(this.glyphsets.defaultGlyphset);\n\n  /**\n   * Define the optical size of the glyph\n   */\n  readonly opticalSize = input(this.config.opticalSize, {\n    transform: numberAttribute,\n  });\n\n  /**\n   * Define the weight of the glyph\n   */\n  readonly weight = input(this.config.weight, { transform: numberAttribute });\n\n  /**\n   * Define the grade of the glyph\n   */\n  readonly grade = input(this.config.grade, { transform: numberAttribute });\n\n  /**\n   * Define the fill of the glyph\n   */\n  readonly fill = input(this.config.fill, { transform: booleanAttribute });\n\n  /**\n   * Define the size of the glyph\n   */\n  readonly size = input(this.config.size, { transform: coerceCssPixelValue });\n\n  /**\n   * Define the color of the glyph\n   */\n  readonly color = input(this.config.color);\n\n  /**\n   * Derive the glyphset class from the glyphset name\n   */\n  protected readonly glyphsetClass = computed(() => {\n    const glyphset = this.glyphsets.glyphsets.find(\n      glyphset => glyphset.name === this.glyphset(),\n    );\n\n    if (!glyphset) {\n      throw new Error(\n        `The glyphset \"${this.glyphset()}\" does not exist. Please provide a valid glyphset.`,\n      );\n    }\n\n    return glyphset.baseClass;\n  });\n\n  /**\n   * Define the font variation settings of the glyph\n   */\n  protected readonly fontVariationSettings = computed(() => {\n    return `'FILL' ${\n      this.fill() ? 1 : 0\n    }, 'wght' ${this.weight()}, 'GRAD' ${this.grade()}, 'opsz' ${this.opticalSize()}`;\n  });\n}\n","import { Provider } from '@angular/core';\n\nexport type ContentSecurityPolicyFeature =\n  NgIconFeature<NgIconFeatureKind.ContentSecurityPolicyFeature>;\n\nexport type ExceptionLoggerFeature =\n  NgIconFeature<NgIconFeatureKind.ExceptionLoggerFeature>;\n\nexport type NgIconFeatures =\n  | ContentSecurityPolicyFeature\n  | ExceptionLoggerFeature;\n\n/**\n * The list of features as an enum to uniquely type each feature.\n */\nexport const enum NgIconFeatureKind {\n  ContentSecurityPolicyFeature,\n  ExceptionLoggerFeature,\n}\n\n/**\n * Helper type to represent a feature.\n */\nexport interface NgIconFeature<FeatureKind extends NgIconFeatureKind> {\n  ɵkind: FeatureKind;\n  ɵproviders: Provider[];\n}\n\n/**\n * Helper function to create an object that represents a feature.\n */\nexport function createFeature<FeatureKind extends NgIconFeatureKind>(\n  kind: FeatureKind,\n  providers: Provider[],\n): NgIconFeature<FeatureKind> {\n  return { ɵkind: kind, ɵproviders: providers };\n}\n","import { InjectionToken, inject } from '@angular/core';\nimport {\n  ContentSecurityPolicyFeature,\n  NgIconFeatureKind,\n  createFeature,\n} from './features';\n\nexport type NgIconPreProcessor = (icon: string) => string;\nexport type NgIconPostProcessor = (element: HTMLElement | SVGElement) => void;\n\nexport const NgIconPreProcessorToken = new InjectionToken<NgIconPreProcessor>(\n  'Ng Icon Pre Processor',\n);\n\nexport const NgIconPostProcessorToken = new InjectionToken<NgIconPostProcessor>(\n  'Ng Icon Post Processor',\n);\n\nexport function injectNgIconPreProcessor(): NgIconPreProcessor {\n  return inject(NgIconPreProcessorToken, { optional: true }) ?? (icon => icon);\n}\n\nexport function injectNgIconPostProcessor(): NgIconPostProcessor {\n  // eslint-disable-next-line @typescript-eslint/no-empty-function\n  return inject(NgIconPostProcessorToken, { optional: true }) ?? (() => {});\n}\n\nfunction preprocessIcon(icon: string): string {\n  // rename all style attributes to data-style to avoid being blocked by the CSP\n  return icon.replace(/style\\s*=/g, 'data-style=');\n}\n\nfunction postprocessIcon(element: HTMLElement | SVGElement): void {\n  // find all elements with a data-style attribute and get the styles from it\n  // and apply them to the element using the style property and remove the data-style attribute\n  const elements = element.querySelectorAll<HTMLElement | SVGElement>(\n    '[data-style]',\n  );\n\n  for (const element of Array.from(elements)) {\n    const styles = element.getAttribute('data-style');\n\n    styles?.split(';').forEach(style => {\n      const [property, value] = style.split(':');\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\n      element.style[property.trim() as any] = value.trim();\n    });\n\n    element.removeAttribute('data-style');\n  }\n}\n\n/**\n * Process icons in a way that is compliant with the content security policy\n */\nexport function withContentSecurityPolicy(): ContentSecurityPolicyFeature {\n  return createFeature(NgIconFeatureKind.ContentSecurityPolicyFeature, [\n    { provide: NgIconPreProcessorToken, useValue: preprocessIcon },\n    { provide: NgIconPostProcessorToken, useValue: postprocessIcon },\n  ]);\n}\n","import { InjectionToken, inject } from '@angular/core';\nimport {\n  ExceptionLoggerFeature,\n  NgIconFeatureKind,\n  createFeature,\n} from './features';\n\ninterface Logger {\n  log(message: string): void;\n  warn(message: string): void;\n  error(message: string): void;\n}\n\nexport const LoggerToken = new InjectionToken<Logger>('Ng Icon Logger');\n\n/**\n * The default logger implementation that logs to the console\n */\nexport class DefaultLogger implements Logger {\n  log(message: string): void {\n    console.log(message);\n  }\n  warn(message: string): void {\n    console.warn(message);\n  }\n  error(message: string): void {\n    console.error(message);\n  }\n}\n\n/**\n * A logger implementation that throws an error on warnings and errors\n */\nexport class ExceptionLogger implements Logger {\n  log(message: string): void {\n    console.log(message);\n  }\n\n  warn(message: string): void {\n    throw new Error(message);\n  }\n\n  error(message: string): void {\n    throw new Error(message);\n  }\n}\n\nexport function injectLogger(): Logger {\n  return inject(LoggerToken, { optional: true }) ?? new DefaultLogger();\n}\n\n/**\n * Throw exceptions on warnings and errors\n */\nexport function withExceptionLogger(): ExceptionLoggerFeature {\n  return createFeature(NgIconFeatureKind.ExceptionLoggerFeature, [\n    { provide: LoggerToken, useClass: ExceptionLogger },\n  ]);\n}\n","import { InjectionToken, Provider, inject } from '@angular/core';\nimport { NgIconFeatures } from './features/features';\n\nexport interface NgIconConfig {\n  /** Define the default size of icons */\n  size?: string;\n  /** Define the default color of icons */\n  color?: string;\n  /** Define the default stroke width of icons */\n  strokeWidth?: string | number;\n}\n\nexport const NgIconConfigToken = new InjectionToken<NgIconConfig>(\n  'Ng Icon Config',\n);\n\n/**\n * Provide the configuration for the icons\n * @param config The configuration to use\n */\nexport function provideNgIconsConfig(\n  config: Partial<NgIconConfig>,\n  ...features: NgIconFeatures[]\n): Provider[] {\n  return [\n    {\n      provide: NgIconConfigToken,\n      useValue: config,\n    },\n    features.map(feature => feature.ɵproviders),\n  ];\n}\n\n/**\n * Inject the configuration for the icons\n * @returns The configuration to use\n * @internal\n */\nexport function injectNgIconConfig(): NgIconConfig {\n  return inject(NgIconConfigToken, { optional: true }) ?? {};\n}\n","import { inject, InjectionToken, Provider } from '@angular/core';\nimport type { Observable } from 'rxjs';\n\nexport type NgIconLoader = (\n  name: string,\n) => Promise<string> | Observable<string> | string;\n\nexport const NgIconLoaderToken = new InjectionToken<NgIconLoader>(\n  'Ng Icon Loader Token',\n);\n\n/**\n * The list of features as an enum to uniquely type each feature.\n */\nconst enum NgIconLoaderFeatureKind {\n  CachingFeature,\n}\n\ninterface NgIconLoaderFeature<FeatureKind extends NgIconLoaderFeatureKind> {\n  kind: FeatureKind;\n  providers: Provider[];\n}\n\n/**\n * Helper function to create an object that represents a Loader feature.\n */\nfunction loaderFeature<FeatureKind extends NgIconLoaderFeatureKind>(\n  kind: FeatureKind,\n  providers: Provider[],\n): NgIconLoaderFeature<FeatureKind> {\n  return { kind: kind, providers: providers };\n}\n\ntype CachingFeature =\n  NgIconLoaderFeature<NgIconLoaderFeatureKind.CachingFeature>;\n\ntype NgIconLoaderFeatures = CachingFeature;\n\nexport type NgIconLoaderCache = Map<string, string | Promise<string>>;\n\nexport const NgIconCacheToken = new InjectionToken<NgIconLoaderCache>(\n  'Ng Icon Cache Token',\n);\n\n/**\n * Add caching to the loader. This will prevent the loader from being called multiple times for the same icon name.\n */\nexport function withCaching(): CachingFeature {\n  return loaderFeature(NgIconLoaderFeatureKind.CachingFeature, [\n    { provide: NgIconCacheToken, useValue: new Map<string, string>() },\n  ]);\n}\n\n/**\n * Provide a function that will return the SVG content for a given icon name.\n * @param loader The function that will return the SVG content for a given icon name.\n * @param features The list of features to apply to the loader.\n * @returns The SVG content for a given icon name.\n */\nexport function provideNgIconLoader(\n  loader: NgIconLoader,\n  ...features: NgIconLoaderFeatures[]\n) {\n  return [\n    { provide: NgIconLoaderToken, useValue: loader },\n    features.map(feature => feature.providers),\n  ];\n}\n\n/**\n * Inject the function that will return the SVG content for a given icon name.\n */\nexport function injectNgIconLoader(): NgIconLoader | null {\n  return inject(NgIconLoaderToken, { optional: true });\n}\n\n/**\n * Inject the cache that will store the SVG content for a given icon name.\n */\nexport function injectNgIconLoaderCache(): NgIconLoaderCache | null {\n  return inject(NgIconCacheToken, { optional: true });\n}\n","import { InjectionToken, Provider, inject } from '@angular/core';\n\n/**\n * Define the icons to use\n * @param icons The icons to provide\n */\nexport function provideIcons(icons: Record<string, string>): Provider[] {\n  return [\n    {\n      provide: NgIconsToken,\n      useFactory: (\n        parentIcons = inject<Record<string, string>[]>(NgIconsToken, {\n          optional: true,\n          skipSelf: true,\n        }),\n      ) => ({\n        ...parentIcons?.reduce((acc, icons) => ({ ...acc, ...icons }), {}),\n        ...icons,\n      }),\n      multi: true,\n    },\n  ];\n}\n\nexport const NgIconsToken = new InjectionToken<Record<string, string>[]>(\n  'Icons Token',\n);\n\n/**\n * Inject the icons to use\n * @returns The icons to use\n * @internal\n */\nexport function injectNgIcons(): Record<string, string>[] {\n  return inject(NgIconsToken, { optional: true }) ?? [];\n}\n","import { Observable, isObservable } from 'rxjs';\n\n/**\n * A loader may return a promise, an observable or a string. This function will coerce the result into a promise.\n * @returns\n */\nexport function coerceLoaderResult(\n  result: Promise<string> | Observable<string> | string,\n): Promise<string> {\n  if (typeof result === 'string') {\n    return Promise.resolve(result);\n  }\n\n  if (isObservable(result)) {\n    // toPromise is deprecated, but we can't use lastValueFrom because it's not available in RxJS 6\n    // so for now we'll just use toPromise\n    return result.toPromise() as Promise<string>;\n  }\n\n  return result;\n}\n","/**\n * Hyphenated to lowerCamelCase\n */\nexport function toPropertyName(str: string): string {\n  return str\n    .replace(/([^a-zA-Z0-9])+(.)?/g, (_, __, chr) =>\n      chr ? chr.toUpperCase() : '',\n    )\n    .replace(/[^a-zA-Z\\d]/g, '')\n    .replace(/^([A-Z])/, m => m.toLowerCase());\n}\n","import { isPlatformServer } from '@angular/common';\nimport {\n  ChangeDetectionStrategy,\n  Component,\n  effect,\n  ElementRef,\n  inject,\n  Injector,\n  input,\n  OnDestroy,\n  PLATFORM_ID,\n  Renderer2,\n  runInInjectionContext,\n} from '@angular/core';\nimport type { IconName } from '../../components/icon/icon-name';\nimport {\n  injectNgIconPostProcessor,\n  injectNgIconPreProcessor,\n} from '../../providers/features/csp';\nimport { injectLogger } from '../../providers/features/logger';\nimport { injectNgIconConfig } from '../../providers/icon-config.provider';\nimport {\n  injectNgIconLoader,\n  injectNgIconLoaderCache,\n} from '../../providers/icon-loader.provider';\nimport { injectNgIcons } from '../../providers/icon.provider';\nimport { coerceLoaderResult } from '../../utils/async';\nimport { coerceCssPixelValue } from '../../utils/coercion';\nimport { toPropertyName } from '../../utils/format';\n\n// This is a typescript type to prevent inference from collapsing the union type to a string to improve type safety\nexport type IconType = IconName | (string & {});\n\nlet uniqueId = 0;\n\n@Component({\n  selector: 'ng-icon',\n  template: '',\n  standalone: true,\n  styleUrls: ['./icon.component.scss'],\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  host: {\n    '[style.--ng-icon__stroke-width]': 'strokeWidth()',\n    '[style.--ng-icon__size]': 'size()',\n    '[style.--ng-icon__color]': 'color()',\n  },\n})\nexport class NgIcon implements OnDestroy {\n  /** Access the global icon config */\n  private readonly config = injectNgIconConfig();\n\n  /** Access the icons */\n  private readonly icons = injectNgIcons();\n\n  /** Access the icon loader if defined */\n  private readonly loader = injectNgIconLoader();\n\n  /** Access the icon cache if defined */\n  private readonly cache = injectNgIconLoaderCache();\n\n  /** Access the pre-processor */\n  private readonly preProcessor = injectNgIconPreProcessor();\n\n  /** Access the post-processor */\n  private readonly postProcessor = injectNgIconPostProcessor();\n\n  /** Access the injector */\n  private readonly injector = inject(Injector);\n\n  /** Access the renderer */\n  private readonly renderer = inject(Renderer2);\n\n  /** Determine the platform we are rendering on */\n  private readonly platform = inject(PLATFORM_ID);\n\n  /** Access the element ref */\n  private readonly elementRef = inject<ElementRef<HTMLElement>>(ElementRef);\n\n  /** A unique id for this instance */\n  private readonly uniqueId = uniqueId++;\n\n  /** Access the logger */\n  private readonly logger = injectLogger();\n\n  /** Define the name of the icon to display */\n  readonly name = input<IconType>();\n\n  /** Define the svg of the icon to display */\n  readonly svg = input<string>();\n\n  /** Define the size of the icon */\n  readonly size = input(this.config.size, { transform: coerceCssPixelValue });\n\n  /** Define the stroke-width of the icon */\n  readonly strokeWidth = input<string | number | undefined>(\n    this.config.strokeWidth,\n  );\n\n  /** Define the color of the icon */\n  readonly color = input(this.config.color);\n\n  /** Store the inserted SVG */\n  private svgElement?: SVGElement;\n\n  constructor() {\n    // update the icon anytime the name or svg changes\n    effect(() => this.updateIcon());\n  }\n\n  ngOnDestroy(): void {\n    this.svgElement = undefined;\n  }\n\n  private async updateIcon(): Promise<void> {\n    const name = this.name();\n    const svg = this.svg();\n\n    // if the svg is defined, insert it into the template\n    if (svg !== undefined) {\n      this.setSvg(svg);\n      return;\n    }\n\n    if (name === undefined) {\n      return;\n    }\n\n    const propertyName = toPropertyName(name);\n\n    for (const icons of [...this.icons].reverse()) {\n      if (icons[propertyName]) {\n        // insert the SVG into the template\n        this.setSvg(icons[propertyName]);\n        return;\n      }\n    }\n\n    // if there is a loader defined, use it to load the icon\n    if (this.loader) {\n      const result = await this.requestIconFromLoader(name);\n\n      // if the result is a string, insert the SVG into the template\n      if (result !== null) {\n        this.setSvg(result);\n        return;\n      }\n    }\n\n    // if there is no icon with this name warn the user as they probably forgot to import it\n    this.logger.warn(\n      `No icon named ${name} was found. You may need to import it using the withIcons function.`,\n    );\n  }\n\n  private setSvg(svg: string): void {\n    // if we are on the server, simply innerHTML the svg as we don't have the\n    // level of control over the DOM that we do on the client, in otherwords\n    // the approach we take to insert the svg on the client will not work on the server\n    if (isPlatformServer(this.platform)) {\n      this.elementRef.nativeElement.innerHTML = svg;\n      // mark this component as server side rendered\n      this.elementRef.nativeElement.setAttribute('data-ng-icon-ssr', '');\n      return;\n    }\n\n    // if this was previously server side rendered, we should check if the svg is the same\n    // if it is, we don't need to do anything\n    if (this.elementRef.nativeElement.hasAttribute('data-ng-icon-ssr')) {\n      // if it is different, we need to remove the server side rendered flag\n      this.elementRef.nativeElement.removeAttribute('data-ng-icon-ssr');\n\n      // retrieve the svg element\n      this.svgElement =\n        this.elementRef.nativeElement.querySelector<SVGElement>('svg') ??\n        undefined;\n\n      if (this.elementRef.nativeElement.innerHTML === svg) {\n        return;\n      }\n    }\n\n    // remove the old element\n    if (this.svgElement) {\n      this.renderer.removeChild(this.elementRef.nativeElement, this.svgElement);\n    }\n\n    // if the svg is empty, don't insert anything\n    if (svg === '') {\n      return;\n    }\n\n    const template: HTMLTemplateElement =\n      this.renderer.createElement('template');\n\n    svg = this.replaceIds(svg);\n\n    this.renderer.setProperty(template, 'innerHTML', this.preProcessor(svg));\n\n    this.svgElement = template.content.firstElementChild as SVGElement;\n    this.postProcessor(this.svgElement);\n\n    // insert the element into the dom\n    this.renderer.appendChild(this.elementRef.nativeElement, this.svgElement);\n  }\n\n  private replaceIds(svg: string): string {\n    // ids are defined like ID_PLACEHOLDER_0, ID_PLACEHOLDER_1, etc.\n    // we need to replace these with the actual ids e.g. ng-icon-0-0, ng-icon-0-1, etc.\n    // if there are no ids, we don't need to do anything\n    if (!svg.includes('ID_PLACEHOLDER_')) {\n      return svg;\n    }\n\n    // we can just retain the trailing number as the prefix is always the same\n    const regex = /ID_PLACEHOLDER_(\\d+)/g;\n\n    // we need to keep track of the ids we have replaced\n    const idMap = new Map<string, string>();\n\n    // find all the matches\n    const matches = new Set(svg.match(regex));\n\n    if (matches === null) {\n      return svg;\n    }\n\n    // replace the ids\n    for (const match of matches) {\n      const id = match.replace('ID_PLACEHOLDER_', '');\n      const placeholder = `ng-icon-${this.uniqueId}-${idMap.size}`;\n      idMap.set(id, placeholder);\n      svg = svg.replace(new RegExp(match, 'g'), placeholder);\n    }\n\n    return svg;\n  }\n\n  /**\n   * Request the icon from the loader.\n   * @param name The name of the icon to load.\n   * @returns The SVG content for a given icon name.\n   */\n  private requestIconFromLoader(name: string): Promise<string> {\n    return new Promise(resolve => {\n      runInInjectionContext(this.injector, async () => {\n        // if we have a cache, check if the icon is already loaded (i.e, it is a string)\n        if (this.cache) {\n          const cachedResult = this.cache.get(name);\n\n          if (typeof cachedResult === 'string') {\n            resolve(cachedResult);\n            return;\n          }\n\n          // it may be a promise, so we need to await it\n          if (cachedResult instanceof Promise) {\n            const result = await cachedResult;\n            resolve(result);\n            return;\n          }\n        }\n\n        const promise = coerceLoaderResult(this.loader!(name));\n\n        // store the promise in the cache so if we get repeated calls (e.g. in a loop) before the loader has resolved\n        // then don't call the loader function multiple times\n        this.cache?.set(name, promise);\n\n        // await the result of the promise\n        const result = await promise;\n\n        // if we have a cache, store the result\n        this.cache?.set(name, result);\n\n        resolve(result);\n      });\n    });\n  }\n}\n","import { Inject, ModuleWithProviders, NgModule } from '@angular/core';\nimport { NgIcon } from './components/icon/icon.component';\nimport { NgIconsToken, provideIcons } from './providers/icon.provider';\n\n@NgModule({\n  imports: [NgIcon],\n  exports: [NgIcon],\n})\nexport class NgIconsModule {\n  constructor(@Inject(NgIconsToken) icons: Record<string, string>) {\n    if (Object.keys(icons).length === 0) {\n      throw new Error(\n        'No icons have been provided. Ensure to include some icons by importing them using NgIconsModule.withIcons({ ... }).',\n      );\n    }\n  }\n\n  /**\n   * Define the icons that will be included in the application. This allows unused icons to\n   * be tree-shaken away to reduce bundle size\n   * @param icons The object containing the required icons\n   */\n  static withIcons(\n    icons: Record<string, string>,\n  ): ModuleWithProviders<NgIconsModule> {\n    return { ngModule: NgIconsModule, providers: provideIcons(icons) };\n  }\n}\n\nexport const NG_ICON_DIRECTIVES = [NgIcon] as const;\n","import { ChangeDetectionStrategy, Component, input } from '@angular/core';\n\n@Component({\n  selector: 'ng-icon-stack',\n  standalone: true,\n  template: '<ng-content />',\n  styleUrl: './icon-stack.component.scss',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  host: {\n    '[style.--ng-icon__size]': 'size()',\n  },\n})\nexport class NgIconStack {\n  /** The size of the child icons */\n  readonly size = input.required<string>();\n}\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './index';\n"],"names":[],"mappings":"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"}